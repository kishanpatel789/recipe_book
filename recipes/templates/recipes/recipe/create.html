{% extends "recipes/base.html" %}
{% load static %}

{% block title %}Create Recipe{% endblock %}

{% block content %}
<h1>Create Recipe</h1>

<form method="POST">
    {% csrf_token %}
    {{ form }}

    <hr>
    <h2>Steps</h2>
    <button id="remove-step" type="button">-</button>
    <button id="add-step" type="button">+</button>
    {{ form_steps.management_form }}

    <ol id="step-list">
      {% for form_step in form_steps %}
        <li>{{ form_step.instruction }}</li>
      {% endfor %}
    </ol>

    <input type="submit" value="Create Recipe">
</form>

<a href="{% url 'recipe_list' %}">Cancel</a>

<li id="step-template" style="display: none;">
{{ form_steps.empty_form.instruction }}
</li>

{% endblock %}

{% block scripts %}
<script src="{% static 'recipes/js/recipe_create.js' %}"></script>
{% endblock %}
